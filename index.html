<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>WAFake - Simulador WhatsApp</title>
	<link rel="icon" type="image/svg+xml" href="favicon.svg">
	<link rel="alternate icon" href="favicon.svg">
	<link rel="stylesheet" href="styles.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>

<body>
	<div class="container">
		<!-- Panel de Control -->
		<div class="control-panel">
			<h2>Panel de Control</h2>
			
			<!-- Configuración General -->
			<div class="general-config-section">
				<h3>⚙️ General</h3>
				<div class="config-row">
					<label for="font-size-slider">Tamaño de fuente del chat:</label>
					<div class="font-size-control">
						<input type="range" id="font-size-slider" min="12" max="20" value="14" step="1">
						<span id="font-size-value">14px</span>
					</div>
				</div>
			</div>

			<!-- Configuración de Usuario Local -->
			<div class="local-config-section">
				<h3>👤 Usuario Local</h3>
				<div class="config-row">
					<label>Avatar:</label>
					<div class="avatar-upload-control">
						<div class="avatar-preview">
							<img id="local-avatar-preview" src="" alt="Avatar local">
						</div>
						<div class="avatar-controls">
							<input type="file" id="local-avatar-upload" accept="image/*" style="display: none;">
							<button id="local-avatar-btn" class="btn btn-small">📁 Subir Imagen</button>
							<button id="local-avatar-reset" class="btn btn-small btn-secondary">🗑️ Restaurar</button>
						</div>
					</div>
				</div>
			</div>
			
			<!-- Configuración de Participantes -->
			<div class="participants-section">
				<h3>👥 Contacto</h3>
				<div class="config-row">
					<label>Nombre del contacto:</label>
					<input type="text" id="participant2-name" placeholder="Nombre">
				</div>
				<div class="config-row">
					<label>Avatar:</label>
					<div class="avatar-upload-control">
						<div class="avatar-preview">
							<img id="contact-avatar-preview" src="" alt="Avatar contacto">
						</div>
						<div class="avatar-controls">
							<input type="file" id="contact-avatar-upload" accept="image/*" style="display: none;">
							<button id="contact-avatar-btn" class="btn btn-small">📁 Subir Imagen</button>
							<button id="contact-avatar-reset" class="btn btn-small btn-secondary">🗑️ Restaurar</button>
						</div>
					</div>
				</div>
			</div>

			<!-- Configuración de Mensajes -->
			<div class="messages-section">
				<h3>Mensajes</h3>
				<div id="messages-list">
					<!-- Los mensajes se añadirán dinámicamente aquí -->
				</div>
				<div class="message-controls">
					<button id="add-message" class="btn">📝 Agregar Texto</button>
					<button id="add-voice-message" class="btn btn-secondary">🎤 Agregar Voz</button>
				</div>
			</div>

			<!-- Configuración -->
			<div class="config-section">
				<h3>Configuración</h3>
				<div class="config-controls">
					<button id="save-config" class="btn btn-secondary">💾 Guardar Configuración</button>
					<button id="load-config" class="btn btn-secondary">📁 Cargar Configuración</button>
					<button id="download-sample" class="btn btn-info">📄 Descargar Ejemplo</button>
				</div>
			</div>

			<!-- Controles de Simulación -->
			<div class="simulation-controls">
				<button id="start-simulation" class="btn btn-primary">Iniciar Simulación</button>
				<button id="stop-simulation" class="btn btn-secondary">Detener</button>
				<button id="reset-simulation" class="btn btn-danger">Reiniciar</button>
			</div>
		</div>

		<!-- Marco del Teléfono -->
		<div class="phone-frame">
			<div class="phone-screen">
				<!-- Chat -->
				<div class="chat-container">
					<!-- Barra de Estado -->
					<div class="phone-status-bar">
						<div class="status-left">
							<span>10:59</span>
						</div>
						<div class="status-right">
							<span class="wifi icon"></span>
							<span class="cellular">
								<span class="network icon"></span>
								<span class="cellular icon"></span>
							</span>
							<span class="battery icon"></span>
							<span>73%</span>
						</div>
					</div>

					<div class="chat-header">
						<div class="header-left">
							<img class="back-button" width="32" height="32" src="assets/img/phone/arrow_back.svg" alt="Volver" />
							<div class="chat-avatar">
								<img id="chat-contact-avatar" src="" alt="Avatar">
							</div>
							<div class="chat-info">
								<h3 id="chat-contact-name">Chat</h3>
								<p id="chat-status">en línea</p>
								<p id="chat-typing-status" class="typing-status hidden">escribiendo...</p>
							</div>
						</div>
						<div class="header-actions">
							<span>
								<img width="32" height="32" src="assets/img/phone/videocam.svg" />
							</span>
							<span>
								<img height="32" src="assets/img/phone/phone.svg" />
							</span>
							<span>
								<img height="32" src="assets/img/phone/more_vert.svg" />
							</span>

						</div>
					</div>

					<div class="chat-messages" id="chat-messages">
						<!-- Los mensajes aparecerán aquí -->
					</div>

					<!-- Indicador de escribiendo -->
					<div id="typing-indicator" class="typing-indicator hidden">
						<div class="typing-avatar">
							<img id="typing-avatar-img" src="assets/img/avatar-default.svg" alt="Avatar">
						</div>
						<div class="typing-animation">
							<span class="typing-name" id="typing-name">Usuario</span> está escribiendo
							<div class="typing-dots">
								<span></span>
								<span></span>
								<span></span>
							</div>
						</div>
					</div>

					<div class="chat-input">
						<div class="input">
							<div class="input-left">
								<img width="28" height="28" src="assets/img/phone/add_emoji.svg" />
								<span class="placeholder">Escribe un mensaje...</span>
							</div>
							<div class="input-right">
								<img width="28" height="28" src="assets/img/phone/attach.svg" />
								<img width="28" height="28" src="assets/img/phone/photo.svg" />
							</div>
						</div>
						<img width="54" height="54" src="assets/img/phone/mic.svg" />
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- JavaScript Modules - Load in dependency order -->
	<script src="assets/js/linkPreview.js"></script>
	<script src="assets/js/messageManager.js"></script>
	<script src="assets/js/voiceMessageManager.js"></script>
	<script src="assets/js/configManager.js"></script>
	<script src="assets/js/chatConfigManager.js"></script>
	<script src="assets/js/uiController.js"></script>
	<script src="assets/js/simulationEngine.js"></script>
	<script src="assets/js/simulator.js"></script>
	<script src="script.js"></script>
</body>

</html>